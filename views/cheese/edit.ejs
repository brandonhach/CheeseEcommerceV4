<%- include('../partials/header.ejs') %>
<script src="/javascript/image-preview.js" defer></script>

<body class="w-screen h-screen flex flex-col bg-neutral-900 font-sans pt-16">
	<main class="w-screen h-5/6 bg-neutral-900 text-white flex flex-col justify-center items-center">
		<section class="flex flex-row justify-center items-center h-3/4 w-3/4 gap-10">
			<div class="w-1/3 h-3/4 flex flex-row items-center rounded-lg border-2 border-neutral-950">
				<img src="<%= cheese.image %>" alt="" class="w-full h-full" id="cheeseImage" />
			</div>

			<form
				action="/listing/item/<%= cheese.id %>/edit/update?_method=PUT"
				method="POST"
				enctype="multipart/form-data"
				class="w-1/3 h-full flex flex-col items-start justify-center gap-2"
			>
				<label for="title" class="p-4"></label>
				<input
					required
					class="text-5xl font-semibold text-amber-100 bg-transparent overflow-hidden"
					type="text"
                    name="title"
                    id="title"
					value="<%= cheese.title %>"
				/>

				<label for="condition" class="font-semibold text-amber-50"
					>Quality:
					<span class="text-gray-500 font-semibold">
						<select id="condition" name="condition" class="text-gray-500 font-semibold bg-transparent" required>
                            <option value="Mild" <% if (cheese.condition === 'Mild') { %>selected<% } %>>Mild</option>
                            <option value="Matured" <% if (cheese.condition === 'Matured') { %>selected<% } %>>Matured</option>
                            <option value="Aged" <% if (cheese.condition === 'Aged') { %>selected<% } %>>Aged</option>
                            <option value="Extra-Aged" <% if (cheese.condition === 'Extra-Aged') { %>selected<% } %>>Extra-Aged</option>
                            <option value="Vintage" <% if (cheese.condition === 'Vintage') { %>selected<% } %>>Vintage</option>
						</select></span
					></label
				>

				<label for="price" class="font-semibold text-amber-50"
					>Price:
					<span class="text-amber-200 font-semibold"
						>$
						<input
							required
							type="number"
							name="price"
							id="price"  
							min="10"
							max="10000"
                            step="0.01"
							value="<%= cheese.price %>"
							class="bg-transparent text-amber-200 font-semibold w-1/4"
					/></span>
					|
					<span class="text-amber-200 font-semibold"
						><span class="text-amber-600 font-semibold"><%= cheese.totalOffers %></span> offers</span
					></label
				>

				<label for="seller" class="font-semibold text-amber-50">
					Seller:
					<input
						required
						type="text"
						name="seller"
						id="seller"
						value="<%= cheese.seller %>"
						class="text-amber-200 font-semibold bg-transparent"
				/></label>

				<label for="details">
					<textarea
						required
						name="details"
						id="details"
						cols="51"
						rows="5"
						class="font-thin text-amber-50 bg-transparent resize-none"
					>
<%= cheese.details %></textarea
					>
				</label>

				<div class="flex flex-row w-full justify-start">		
				    <label for="image" class="">					
                        <input
						id="image"
						name="image"
						type="file"
						accept="image/png, image/jpeg, image/gif"
						class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"
					/></label>

				</div>

				<div class="flex flex-row w-1/2 gap-4 pt-2">
					<button
						type="submit"
						class="text-white bg-amber-700 hover:bg-amber-800 focus:outline-none focus:ring-4 focus:ring-amber-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-amber-600 dark:hover:bg-amber-700 dark:focus:ring-amber-800 w-full flex flex-row items-center justify-center gap-1"
					>
						confirm change
					</button>
				</div>
			</form>
		</section>
	</main>
</body>
<%- include('../partials/footer.ejs') %>
